[2025-07-25T08:22:00.294Z] ERROR:[404 Not Found - /favicon.ico - GET /favicon.ico - ::1]
[2025-07-25T08:22:18.916Z] ERROR:[400 This route failed on purpose - GET /fail - ::1]
[2025-07-25T12:55:09.654Z] ERROR:Failed to cancel order [object Object]: 
Invalid `prisma.order.update()` invocation:

{
  where: {
    id: {
      userId: "a1b2c3d4-e5f6-7890-abcd-1234567890ef",
      totalAmount: 150,
      items: [
        {
          productId: "11112222-3333-4444-5555-666677778888",
          quantity: 2
        },
        {
          productId: "99990000-aaaa-bbbb-cccc-ddddeeeeffff",
          quantity: 1
        }
      ],
      shipping: {
        address: "123 Main Street, Nairobi, Kenya",
        method: "Standard",
        cost: 10
      },
      discount: {
        code: "SUMMER10",
        amount: 10
      },
      tax: {
        rate: 0.15,
        amount: 15
      },
      paymentInfo: {
        method: "Credit Card",
        transactionId: "txn_123456789"
      }
    }
  },
  data: {
    status: "CANCELLED",
    cancellation: {
      create: {
+       reason: String
      }
    },
    auditLogs: {
      create: {
        action: "ORDER_CANCELLED",
        actorId: undefined
      }
    }
  },
  include: {
    cancelation: true,
    auditLogs: true
  }
}

Argument `reason` is missing.
[2025-07-25T12:55:09.656Z] ERROR:OrderController - create: Could not cancel order
[2025-07-25T12:55:09.658Z] ERROR:[500 Could not cancel order - POST /order - ::ffff:127.0.0.1]
[2025-07-25T12:57:02.237Z] ERROR:Failed to cancel order [object Object]: 
Invalid `prisma.order.update()` invocation:

{
  where: {
    id: {
      userId: "a1b2c3d4-e5f6-7890-abcd-1234567890ef",
      totalAmount: 150,
      items: [
        {
          productId: "11112222-3333-4444-5555-666677778888",
          quantity: 2
        },
        {
          productId: "99990000-aaaa-bbbb-cccc-ddddeeeeffff",
          quantity: 1
        }
      ],
      shipping: {
        address: "123 Main Street, Nairobi, Kenya",
        method: "Standard",
        cost: 10
      },
      discount: {
        code: "SUMMER10",
        amount: 10
      },
      tax: {
        rate: 0.15,
        amount: 15
      },
      paymentInfo: {
        method: "Credit Card",
        transactionId: "txn_123456789"
      }
    }
  },
  data: {
    status: "CANCELLED",
    cancellation: {
      create: {
+       reason: String
      }
    },
    auditLogs: {
      create: {
        action: "ORDER_CANCELLED",
        actorId: undefined
      }
    }
  },
  include: {
    cancelation: true,
    auditLogs: true
  }
}

Argument `reason` is missing.
[2025-07-25T12:57:02.238Z] ERROR:OrderController - create: Could not cancel order
[2025-07-25T12:57:02.240Z] ERROR:[500 Could not cancel order - POST /order - ::ffff:127.0.0.1]
[2025-07-25T13:07:16.974Z] ERROR:Failed to cancel order [object Object]: Reason and actorId are required to cancel order
[2025-07-25T13:07:16.976Z] ERROR:OrderController - create: Could not Cancel order
[2025-07-25T13:07:16.978Z] ERROR:[500 Could not Cancel order - POST /order - ::ffff:127.0.0.1]
[2025-07-25T13:08:08.087Z] ERROR:[404 Not Found - /order/cancel - PATCH /order/cancel - ::ffff:127.0.0.1]
[2025-07-25T13:13:36.685Z] ERROR:[404 Not Found - /1234-uuid-5678/cancel - PATCH /1234-uuid-5678/cancel - ::ffff:127.0.0.1]
[2025-07-25T13:14:48.997Z] ERROR:Failed to cancel order [object Object]: Reason and actorId are required to cancel order
[2025-07-25T13:14:48.998Z] ERROR:OrderController - create: Could not Cancel order
[2025-07-25T13:14:48.999Z] ERROR:[500 Could not Cancel order - POST /order - ::ffff:127.0.0.1]
[2025-07-25T13:15:01.290Z] ERROR:Failed to cancel order [object Object]: Reason and actorId are required to cancel order
[2025-07-25T13:15:01.291Z] ERROR:OrderController - create: Could not Cancel order
[2025-07-25T13:15:01.292Z] ERROR:[500 Could not Cancel order - POST /order - ::ffff:127.0.0.1]
[2025-07-25T13:26:26.205Z] ERROR:Failed to cancel order 1234-uuid-5678: 
Invalid `prisma.order.update()` invocation:


An operation failed because it depends on one or more records that were required but not found. No 'Order' record (needed to create inlined relation for 'Cancellation' record(s)) was found for a nested create on one-to-one relation 'CancellationToOrder'.
[2025-07-25T13:26:26.206Z] ERROR:OrderController - cancel: Could not Cancel order
[2025-07-25T13:26:26.208Z] ERROR:[500 Could not Cancel order - PATCH /order/1234-uuid-5678/cancel - ::ffff:127.0.0.1]
[2025-07-25T13:27:22.869Z] ERROR:Failed to cancel order [object Object]: Reason and actorId are required to cancel order
[2025-07-25T13:27:22.872Z] ERROR:OrderController - create: Could not Cancel order
[2025-07-25T13:27:22.873Z] ERROR:[500 Could not Cancel order - POST /order - ::ffff:127.0.0.1]
[2025-07-25T13:29:47.005Z] ERROR:Failed to create order: 
Invalid `prisma.order.create()` invocation:

{
  data: {
    userId: "user-uuid-123",
    totalAmount: 100,
    items: {
      create: [
        {
          productId: "product-uuid-1",
          quantity: 2
        },
        {
          productId: "product-uuid-2",
          quantity: 1
        }
      ]
    },
    shipping: {
      create: {
        address: "123 Main St, Nairobi"
      }
    },
    discount: undefined,
    tax: undefined,
    paymentInfo: {
      create: {
        method: "mpesa",
        transactionId: "txn_123456789"
      }
    },
    auditLogs: {
      create: {
        action: "ORDER_CREATED",
        actorId: "user-uuid-123"
      }
    }
  },
  include: {
    items: true,
    shipping: true,
    discount: true,
    tax: true,
    paymentInfo: true,
    auditLogs: true
  }
}

Argument `price` is missing.
[2025-07-25T13:29:47.006Z] ERROR:OrderController - create: Failed to create order
[2025-07-25T13:29:47.008Z] ERROR:[500 Failed to create order - POST /order - ::ffff:127.0.0.1]
[2025-07-25T13:31:53.991Z] ERROR:Failed to create order: 
Invalid `prisma.order.create()` invocation:

{
  data: {
    userId: "user-uuid-123",
    totalAmount: 100,
    items: {
      create: [
        {
          productId: "product-uuid-1",
          quantity: 2,
          price: 30
        },
        {
          productId: "product-uuid-2",
          quantity: 1,
          price: 40
        }
      ]
    },
    shipping: {
      create: {
        address: "123 Main St, Nairobi",
+       fullName: String
      }
    },
    discount: undefined,
    tax: undefined,
    paymentInfo: {
      create: {
        method: "mpesa",
        transactionId: "txn_123456789"
      }
    },
    auditLogs: {
      create: {
        action: "ORDER_CREATED",
        actorId: "user-uuid-123"
      }
    }
  },
  include: {
    items: true,
    shipping: true,
    discount: true,
    tax: true,
    paymentInfo: true,
    auditLogs: true
  }
}

Argument `fullName` is missing.
[2025-07-25T13:31:53.992Z] ERROR:OrderController - create: Failed to create order
[2025-07-25T13:31:53.993Z] ERROR:[500 Failed to create order - POST /order - ::ffff:127.0.0.1]
[2025-07-25T13:33:31.635Z] ERROR:Failed to create order: 
Invalid `prisma.order.create()` invocation:

{
  data: {
    userId: "user-uuid-123",
    totalAmount: 100,
    items: {
      create: [
        {
          productId: "product-uuid-1",
          quantity: 2,
          price: 30
        },
        {
          productId: "product-uuid-2",
          quantity: 1,
          price: 40
        }
      ]
    },
    shipping: {
      create: {
        fullName: "John Doe",
        address1: "123 Main St",
        city: "Nairobi",
        state: "Nairobi County",
        postalCode: "00100",
        country: "Kenya",
        phone: "+254712345678"
      }
    },
    discount: undefined,
    tax: undefined,
    paymentInfo: {
      create: {
        provider: "mpesa",
        transactionId: "txn_123456789",
+       paidAt: DateTime
      }
    },
    auditLogs: {
      create: {
        action: "ORDER_CREATED",
        actorId: "user-uuid-123"
      }
    }
  },
  include: {
    items: true,
    shipping: true,
    discount: true,
    tax: true,
    paymentInfo: true,
    auditLogs: true
  }
}

Argument `paidAt` is missing.
[2025-07-25T13:33:31.636Z] ERROR:OrderController - create: Failed to create order
[2025-07-25T13:33:31.636Z] ERROR:[500 Failed to create order - POST /order - ::ffff:127.0.0.1]
